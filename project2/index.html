<!DOCTYPE html>
<html>

<head>

</head>
<body>
   <div id="keyboard" style="width: 400px;"></div>
   <input type="file" accept="audio/*"/>

   <script src="js/dat.gui.min.js"></script>
   <script src="js/stream.js"></script>
   <script src="js/midifile.js"></script>
   <script src="js/replayer.js"></script>
   <script src="js/Player.js"></script>
   <script src="js/qwerty-hancock.js"></script>
   <script src="js/synth.js"></script>


   <script>

      var synth;

      window.onload = function() {
         synth = SYNTH.createSynth();
         synth.initAudio();

         window.addEventListener('keyup', synth.keyUp, false);
         window.addEventListener('keydown', synth.keyDown, false);
         document.querySelector('input[type="file"]').addEventListener('change', function() {

            var reader = new FileReader();

            reader.onload = function(e) {

               synth.playMIDIFile(this.result);
            }

            reader.readAsBinaryString(this.files[0]);
            
         }, false); 

      };

   </script>

</body>

</html>
